<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>–£—á–µ–±–Ω–∞—è –≠–í–ú ‚Äî –º–∞–∫–µ—Ç (v2.0)</title>
    <link rel="stylesheet" href="Satus.css">

</head>
<body>
<div class="header">
    <div class="header-left">
        <div class="logo">–£—á–µ–±–Ω–∞—è –≠–í–ú</div>
        <div class="subtitle"></div>
    </div>

    <div class="header-center">
        <button class="cpu-btn step" id="stepBtn">‚è≠ –®–∞–≥</button>
        <button class="cpu-btn run" id="runBtn">‚ñ∂ –ü—É—Å–∫</button>
        <button class="cpu-btn stop" id="stopBtn">‚ñ† –°—Ç–æ–ø</button>
    </div>
</div>

<div class="wrap">
    <!-- LEFT: memory (words, 2 bytes) -->
    <div class="col left">

        <div class="mem-toolbar">
          <label>
            <input type="checkbox" />
            <div>Follow PC</div>
          </label>
          <label>
            <input type="checkbox" />
            <div>BreackPoints</div>
          </label>
          <button class="toolbar-btn">üßπ BP</button>
          <button class="toolbar-btn">‚§µ PC</button>
          <button class="toolbar-btn">‚á£ SP</button>
          <input class="toolbar-input" placeholder="0x020" />
          <button class="toolbar-btn go-btn">Go</button>
        </div>

        <div class="mem-wrapper">
            <table class="mem-table" id="memTable" aria-label="memory table">
                <thead>
                <tr>
                    <th>–ê–¥—Ä–µ—Å</th>
                    <th>–ö–æ–º–∞–Ω–¥–∞</th>
                    <th>–ö–æ–¥</th>
                </tr>
                </thead>
                <tbody id="memBody"></tbody>
            </table>
        </div>
    </div>

    <!-- CENTER: machine -->
    <div class="col center">
        <div class="machine">
            <!-- ALU / registers -->
            <div class="machine-layout">
                <div class="panel big-row machine-panel">
                    <div class="alu">
                        <div class="alu-header">

                        </div>

                        <div class="spacer-12"></div>

                        <div class="alu-section">
                            <div class="reg-groups-grid">
                                <div class="reg-pair">
                                    <div class="reg-group">
                                        <div class="reg-group-name">–ê–õ–£</div>
                                        <div class="reg">
                                            <div class="name">ACC</div>
                                            <input class="val" id="ACC" type="text" value="0x0000" />
                                        </div>
                                        <div class="reg">
                                            <div class="name">DR</div>
                                            <input class="val" id="DR" type="text" value="0x0000" />
                                        </div>
                                    </div>
                                    <div class="reg-group">
                                        <div class="reg-group-name">IO</div>
                                        <div class="reg">
                                            <div class="name">IN</div>
                                            <input class="val" id="IN" type="text" value="0x0000" />
                                        </div>
                                        <div class="reg">
                                            <div class="name">OUT</div>
                                            <input class="val" id="OUT" type="text" value="0x0000" />
                                        </div>
                                    </div>
                                </div>

                                <div class="reg-group full-width">
                                    <div class="reg-group-name ram-label">–û–ó–£</div>
                                    <div class="reg">
                                        <div class="name">MAR</div>
                                        <input class="val" id="MAR" type="text" value="0x0000" />
                                        <div class="name mdr-label">MDR</div>
                                        <input class="val" id="MDR" type="text" value="0x0000" />
                                    </div>

                                </div>


                                <div class="panel flags-panel">
                                    <div class="flags-header">
                                        <div class="flags-title">FLAGS</div>
                                    </div>
                                    <table class="mem-table flags-table" aria-label="memory table">
                                        <thead class="flags-head">
                                        <tr class="flags-row">
                                            <th class="flags-cell">Z</th>
                                            <th class="flags-cell">S</th>
                                            <th class="flags-cell">O</th>
                                            <th class="flags-cell">I</th>
                                            <th class="flags-cell">H</th>
                                        </tr>
                                        </thead>
                                        <tbody class="flags-body">
                                        <tr data-word-index="0" class="flags-body-row">
                                            <td id="flagZ">0</td>
                                            <td id="flagS">0</td>
                                            <td id="flagO">0</td>
                                            <td id="flagI">0</td>
                                            <td id="flagH">0</td>
                                        </tr>


                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="reg-group side-registers">

                                <div class="reg">
                                    <div class="name">AR</div>
                                    <input class="val" id="AR" type="text" value="0x0000" />
                                </div>
                                <div class="reg">
                                    <div class="name">PC</div>
                                    <input class="val" id="PC" type="text" value="0x0000" />
                                </div>
                                <div class="reg">
                                    <div class="name">SP</div>
                                    <input class="val" id="SP" type="text" value="0x03FE" />
                                </div>
                                <div class="reg">
                                    <div class="name">BR</div>
                                    <input class="val" id="BR" type="text" value="0x0000" />
                                </div>
                            </div>
                            <div class="regs regs-panel">
                                <div class="reg-group-name regs-title">–†–û–ù</div>

                                <div class="regs-grid" id="gRegs">
                                    <div class="reg">
                                        <div class="name">R0</div>
                                        <input class="val" id="R0" type="text" value="0x0000" />
                                    </div>
                                    <div class="reg">
                                        <div class="name">R1</div>
                                        <input class="val" id="R1" type="text" value="0x0000" />
                                    </div>
                                    <div class="reg">
                                        <div class="name">R2</div>
                                        <input class="val" id="R2" type="text" value="0x0000" />
                                    </div>
                                    <div class="reg">
                                        <div class="name">R3</div>
                                        <input class="val" id="R3" type="text" value="0x0000" />
                                    </div>
                                    <div class="reg">
                                        <div class="name">R4</div>
                                        <input class="val" id="R4" type="text" value="0x0000" />
                                    </div>
                                    <div class="reg">
                                        <div class="name">R5</div>
                                        <input class="val" id="R5" type="text" value="0x0000" />
                                    </div>
                                    <div class="reg">
                                        <div class="name">R6</div>
                                        <input class="val" id="R6" type="text" value="0x0000" />
                                    </div>
                                    <div class="reg">
                                        <div class="name">R7</div>
                                        <input class="val" id="R7" type="text" value="0x0000" />
                                    </div>
                                </div>


                            </div>
                        </div>
                      </div>
                      <div class="reg-group">
                        <div class="reg-group-name">IO</div>
                        <div class="reg">
                          <div class="name">IN</div>
                          <div class="val">0x0000</div>
                        </div>
                        <div class="reg">
                          <div class="name">OUT</div>
                          <div class="val">0x0000</div>
                        </div>
                      </div>
                    </div>
                    <div class="reg-group memory-group">
                      <div class="reg-group-name">–û–ó–£</div>
                      <div class="reg">
                        <div class="name">MAR</div>
                        <div class="val">0x0000</div>
                        <div class="name">MDR</div>
                        <div class="val">0x0000</div>
                      </div>
                    </div>
                    <div class="panel flag-panel">
                      <div class="flag-title">FLAGS</div>
                      <table class="mem-table flag-table" aria-label="flags table">
                        <thead>
                          <tr>
                            <th>Z</th>
                            <th>S</th>
                            <th>O</th>
                            <th>I</th>
                            <th>H</th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr data-word-index="0">
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                            <td>0</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
              </div>
              <div class="regs">
                <div class="regs-grid">
                  <div class="reg-group">
                    <div class="reg-group-name">–°—á—ë—Ç—á–∏–∫–∏</div>
                    <div class="reg">
                      <div class="name">PC</div>
                      <div class="val">0x0000</div>
                    </div>
                    <div class="reg">
                      <div class="name">SP</div>
                      <div class="val">0x0000</div>
                    </div>
                  </div>
                  <div class="reg-group">
                    <div class="reg-group-name">–ö–æ–º–±. –ª–æ–≥–∏–∫–∞</div>
                    <div class="reg">
                      <div class="name">MK</div>
                      <div class="val" id="MK">0x0000</div>
                    </div>
                    <div class="reg">
                      <div class="name">SL</div>
                      <div class="val" id="SL">0x0000</div>
                    </div>
                    <div class="reg">
                      <div class="name">SR</div>
                      <div class="val" id="SR">0x0000</div>
                    </div>
                  </div>
                </div>
                <div class="reg-group decoder-panel">
                  <div class="reg-group-name">–ü–æ–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</div>
                  <div class="decoder-row">
                    <div class="reg">
                      <div class="name">INR</div>
                      <input class="val" id="INR" type="text" value="0x0000" readonly />
                    </div>
                    <div class="reg">
                      <div class="name">EXT</div>
                      <input class="val" id="EXT" type="text" value="0x0000" readonly />
                    </div>
                  </div>
                  <div class="decoder-fields">
                    <div class="reg">
                      <div class="name">OPC</div>
                      <input class="val wide" id="OPC" type="text" value="0x00" readonly />
                    </div>
                    <div class="reg">
                      <div class="name">ADT</div>
                      <input class="val narrow" id="ADT" type="text" value="0x0" readonly />
                    </div>
                    <div class="reg">
                      <div class="name">EXF</div>
                      <input class="val tiny" id="EXF" type="text" value="0" readonly />
                    </div>
                    <div class="reg">
                      <div class="name">ARG</div>
                      <input class="val wide" id="ARG" type="text" value="0x00" readonly />
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>

    <!-- separator -->
    <div class="separator"></div>

    <!-- RIGHT: editor / controls -->
    <div class="col right">
        <div class="code-toolbar">
            <button id="btnSave" class="toolbar-button save-btn">üíæ Save</button>
            <button class="toolbar-button load-btn">üìÇ Load</button>
            <span>Load to:</span>
            <input style="font-family: courier;" value="0x000">
        </div>

        <div class="editor" id="source" contenteditable="true">–ù–∞–ø–∏—à–∏ –ø—Ä–æ–≥—Ä–∞–º–º—É –≤ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ –¥–ª—è –≠–í–ú (–ø—Ä–∏–º–µ—Ä: NOP, MOV,
            ADD –∏ —Ç.–¥.)
        </div>

        <div class="action-row">
            <button id="assemble" class="action-button assemble-btn">–ê—Å—Å–µ–º–±–ª–∏—Ä–æ–≤–∞—Ç—å</button>
            <button id="clearMem" class="action-button clear-btn">–û—á–∏—Å—Ç–∏—Ç—å –û–ó–£</button>
        </div>
        <div class="filename" aria-live="polite">–°–æ–æ–±—â–µ–Ω–∏—è:</div>
        <div class="messages" id="log">17:50:46 ‚Äî Sample memory initialized. –ì–æ—Ç–æ–≤–æ.</div>
      </section>
    </div>
    <div class="bottom-info">
      <div class="badge">CPU</div>
      <div class="badge">–û–ó–£</div>
      <div class="badge">–í–Ω–µ—à–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</div>
    </div>

</div>

<div class="bottom-info">
    <div class="bottom-title">CPU</div>
    <div class="badge">–û–ó–£</div>
    <div class="badge">–í–Ω–µ—à–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</div>
</div>

<script type="module" src="main.js"></script>


</body>
</html>
